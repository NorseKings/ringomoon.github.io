<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI健康计算器</title>
    <style>
        /* 将之前提供的style.css内容完整复制到这里 */
        body { font-family: Arial, sans-serif; ... }
        .container { ... }
        /* 保持原有CSS不变 */
    </style>
</head>
<body>
    <div class="container">
        <h1>BMI健康计算器</h1>
        <div id="error" class="error" style="display: none;"></div>
        <form id="bmiForm">
            <div class="form-group">
                <label>性别：</label>
                <select id="gender" required>
                    <option value="">请选择</option>
                    <option value="男">男</option>
                    <option value="女">女</option>
                </select>
            </div>
            <div class="form-group">
                <label>身高（米）：</label>
                <input type="number" id="height" step="0.01" min="0.5" max="2.5" required>
            </div>
            <div class="form-group">
                <label>体重（公斤）：</label>
                <input type="number" id="weight" step="0.1" min="10" max="300" required>
            </div>
            <button type="submit">立即计算</button>
        </form>

        <!-- 结果展示区域 -->
        <div id="result" class="container result" style="display: none;">
            <h1>您的健康报告</h1>
            <div class="bmi-box" id="bmiBox">
                <h2 id="title"></h2>
                <div class="bmi-value" id="bmiValue"></div>
                <div class="category" id="category"></div>
            </div>
            <h3>健康建议：</h3>
            <p id="advice"></p>
            <a href="javascript:location.reload()">重新计算</a>
        </div>
    </div>

    <script>
        document.getElementById('bmiForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // 获取输入值
            const gender = document.getElementById('gender').value;
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);

            // 验证输入
            const errorDiv = document.getElementById('error');
            if (!gender || isNaN(height) || height <= 0 || isNaN(weight) || weight <= 0) {
                errorDiv.style.display = 'block';
                errorDiv.textContent = '请输入有效的数值';
                return;
            }
            errorDiv.style.display = 'none';

            // 计算BMI
            const bmi = weight / (height ** 2);
            const roundedBMI = Math.round(bmi * 10) / 10;

            // 判断体型
            let category;
            if (roundedBMI < 18.5) category = "过瘦";
            else if (roundedBMI < 25) category = "正常";
            else if (roundedBMI < 30) category = "超重";
            else category = "肥胖";

            // 设置显示内容
            document.getElementById('title').textContent = gender === '男' ? '先生' : '女士';
            document.getElementById('bmiValue').textContent = roundedBMI.toFixed(1);
            document.getElementById('category').textContent = category;

            // 设置颜色样式
            const bmiBox = document.getElementById('bmiBox');
            bmiBox.className = `bmi-box ${category}`;

            // 设置健康建议
            const adviceMap = {
                "过瘦": "🔹 增加营养摄入<br>🔹 进行适度力量训练",
                "正常": "🔹 保持良好习惯<br>🔹 定期健康检查",
                "超重": "🔹 控制饮食摄入<br>🔹 加强体育锻炼",
                "肥胖": "🔹 咨询专业医师<br>🔹 制定科学计划"
            };
            document.getElementById('advice').innerHTML = adviceMap[category];

            // 显示结果
            document.getElementById('bmiForm').style.display = 'none';
            document.getElementById('result').style.display = 'block';
        });
    </script>
</body>
</html>